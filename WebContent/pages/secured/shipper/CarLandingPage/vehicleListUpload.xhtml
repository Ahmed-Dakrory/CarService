<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/templates/dashboard2.xhtml">


	<ui:define name="title"> ALMZZAD</ui:define>
	
	 <ui:define name="mainHead"> 
			       <ul class="mn-sub"><li class="mn-sub-item mn-item-freight"><a href="vehicleList.jsf" class="mn-sub-item-current"><b>Freight List</b></a></li></ul>
           
			</ui:define>

	<ui:define name="content">

	
	
    <link rel="stylesheet" href="#{resource['css:dashboard/primifaces.css']}" />
    <link rel="stylesheet" href="#{resource['css:dashboard/primeicons.css']}" />
    
    	<style>
	
	.table-bordered > tbody > tr > td, .table-bordered > tfoot > tr > td {
	vertical-align: middle;
    border: 1px solid #dddddd;
    font-size: 11px;
    text-align: center;
    font-family: sans-serif;
}

body .ui-button {
    background-color: #007ad9;
    color: #ffffff;
    border: 1px solid #007ad9;
    font-size: 14px;
    margin: 0;
    margin-right: .1em;
    outline: 0 none;
    -moz-transition: background-color 0.3s;
    -o-transition: background-color 0.3s;
    -webkit-transition: background-color 0.3s;
    transition: background-color 0.3s;
}


.ui-datatable .ui-datatable-header {
        text-align: right !important;
    }
     
    .ui-selectcheckboxmenu-panel .ui-selectcheckboxmenu-header .ui-chkbox {
        display: none;
    }
    
    body .ui-chkbox .ui-chkbox-box .ui-chkbox-icon.ui-icon-check:before {
    content: "\f046";
    font-family: FontAwesome;
}
	</style>
        <h:form name="aspnetForm" id="aspnetForm">


#{carLandingBean.refresh()}
            <div id="content">
            
            <script type="text/javascript">    
    PrimeFaces.locales['de'] = {
        closeText: 'Schließen',
        prevText: 'Zurück',
        nextText: 'Weiter',
        monthNames: ['Januar', 'Februar', 'März', 'April', 'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
        monthNamesShort: ['Jan', 'Feb', 'März', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
        dayNames: ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'],
        dayNamesShort: ['Son', 'Mon', 'Die', 'Mit', 'Don', 'Fre', 'Sam'],
        dayNamesMin: ['S', 'M', 'D', 'M ', 'D', 'F ', 'S'],
        weekHeader: 'Woche',
        FirstDay: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: '',
        timeOnlyTitle: 'Nur Zeit',
        timeText: 'Zeit',
        hourText: 'Stunde',
        minuteText: 'Minute',
        secondText: 'Sekunde',
        currentText: 'Aktuelles Datum',
        ampm: false,
        month: 'Monat',
        week: 'Woche',
        day: 'Tag',
        allDayText: 'Ganzer Tag'
    };
</script>

      
    <input name="ctl00$BodyHolder$hdClient_ID" type="hidden" id="ctl00_BodyHolder_hdClient_ID" value="47089" />
    <!-- page src -->
    <table border="0" class="content-table" cellspacing="0" cellpadding="5" >
        <tbody>
            <tr valign="top">
                <td width="100%">
                    <!-- Table 1 -->
                    <table width="100%" cellspacing="0" cellpadding="1" border="0" bgcolor="#003399">
                        <tr>
                            <td>
                                <table width="100%" cellspacing="0" cellpadding="8" border="0" bgcolor="#ffffff">
                                    <tr>
                                        <td>
                                            <!-- Table name block -->
                                            <table width="100%" cellspacing="0" cellpadding="0" border="0">
                                                <tr>
                                                    <td class="blkname" style="width: 20%; height: 22px;">
                                                        <nobr>&nbsp;Freight List<span id="ctl00_BodyHolder_lblCount">: #{carLandingBean.listOfAddedCars.size()}</span></nobr>
                                                    </td>
                                                    <td style="height: 22px">
                                                        
                                                    </td>
                                                    <td style="height: 22px">
                                                        &nbsp;
                                                    </td>
                                                   
                                                </tr>
                                            </table>
                                         
                                            <img src="#{resource['images:dumb.gif']}" width="1" height="3"/><br></br>
                                            <table cellspacing="4" cellpadding="0" border="0" width="100%">
                                                <tr>
                                                    <td>
                                                        <table width="100%" cellspacing="0" cellpadding="1" border="0" bgcolor="#cccccc">
                                                            <tr>
                                                                <td>
                                                                    <table border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#f7f7f7">
                                                                        <tr height="25" bgcolor="#dcdcdc" >
                                                                            <td>
                                                                                &nbsp; <font class="tblhdr">Filter</font><a href="editlist?group=-1" class="navlink">
                                                                                </a>
                                                                            </td>
                                                                            <td colspan="4">
                                                                            </td>
                                                                        </tr>
                                                                        <tr height="2">
                                                                            <td colspan="5" bgcolor="#ffffff">
                                                                            </td>
                                                                        </tr>
                                                                       
                                                                        
                                                                        
                                                                        <tr height="2">
                                                                            <td colspan="4">
                                                                            </td>
                                                                        </tr>
                                                                    </table>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </table>
                                            <img src="#{resource['images:dumb.gif']}" width="1" height="3"/><br></br>
                                            <!-- Client DataGrid-->
                                            <section class="panel">
                                            
							<div class="panel-body">
							<script type="text/javascript">
							    //<![CDATA[
							function start() {
							     
							    window['progress'] = setInterval(function() {
							var pbClient = PF('pbClient'),
							oldValue = pbClient.getValue(),
							newValue = oldValue + 10;
							         
							pbClient.setValue(pbClient.getValue() + 10);
							     
							if(newValue === 100) {
							    clearInterval(window['progress']);
							}
							 
							 
							    }, 1000);
							}
							 
							function cancel() {
							    clearInterval(window['progress']);
							    PF('pbClient').setValue(0);
							}
							    //]]>
							</script>


							<p:growl id="growl" />
 
   
							    <h:form enctype="multipart/form-data" rendered="#{!carLandingBean.isfileUploaded}">  
							   
							   <p:fileUpload  fileUploadListener="#{carLandingBean.parseFile}" mode="advanced" dragDropSupport="false"
                   sizeLimit="99000000" fileLimit="1" allowTypes="/(\.|\/)(xlsx)$/" onstart="done()"
							    />
								  
    						</h:form>
    						
    						<script>
    						function done(){
    							showDialog('car');
    						}
    						</script>
    						
    					<h:form id="tableForm">
								
        	
    						 <p:dataTable id="carsTable" var="row" value="#{carLandingBean.listOfUploadedDataCars}" widgetVar="carsTable" 
                 rows="50" paginator="true" resizableColumns="true" sortMode="multiple" 
                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 rowsPerPageTemplate="10,50,100,200,500,1000"
                 selectionMode="single" selection="#{carLandingBean.selectedFreight}" rowKey="#{row.lot}"
                 emptyMessage="No cars found with given criteria" filteredValue="#{carLandingBean.listOfFilteredCars}" >
 
        <f:facet name="header">
            <p:outputPanel>
            <div class="container" style="margin: 0;    width: 100%;">
	            <div class="row">
	            	
	            	<div class="col-md-2" style="text-align: left;">
	            	<p:outputLabel for="datetime" value="Start Date" />
       				<p:calendar id="datetime" value="#{carLandingBean.startDate}" pattern="yyyy-dd-MM HH:mm:ss" >
       					<p:ajax event="change" />
       				</p:calendar>
	            	
	            	</div>
	            	
	            	
	            	<div class="col-md-2" style="text-align: left;">
	            	<p:outputLabel for="datetime1" value="Biding Date" />
       				<p:calendar id="datetime1" value="#{carLandingBean.bidingDate}" pattern="yyyy-dd-MM HH:mm:ss" >
       					<p:ajax event="change" />
       				</p:calendar>
	            	
	            	</div>
	            	
	            	
	            	<div class="col-md-3" style="text-align: left;">
	            		<p:outputLabel for="datetime2" value="End Biding Date" />
       					<p:calendar id="datetime2" value="#{carLandingBean.endDate}" pattern="yyyy-dd-MM HH:mm:ss" >
       					<p:ajax event="change" />
       					</p:calendar>
       					
	            	
	            	</div> 
	            	
	            	
	            	<div class="col-md-4" style="text-align: right;">
	            		<h:outputText value="Search all fields:" />
	            		<p:inputText id="globalFilter" onkeyup="PF('carsTable').filter()" style="width:150px" placeholder="Enter keyword"/>
	            	</div>
	            	<div class="col-md-1" style="text-align: left;">
	            		<p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="pi pi-align-justify" />
       		 	<p:columnToggler datasource="carsTable" trigger="toggler" />
	            	</div>
	            </div>
            </div>
                
				
            </p:outputPanel>
        </f:facet>
        
         
 
 		<p:column style="font-size: 11px;    text-align: center;" width="90" id="imageId" sortBy="#{row.mainImage}" filterBy="#{row.mainImage}">
			<h:graphicImage value="#{row.mainImage}" alt="image#{row.mainImage}" style="box-shadow: 2px 0px 1px #b9b9b9, 0 0 21px #ffffff, 0 0 3px #504d4d;border-radius: 15%;max-width: 79px;max-height: 79px;width: auto;height: auto;margin-right: 4%;"/>
			<f:facet name="header">	<h:outputText value="Image" /> </f:facet>
		</p:column>
		
		
		<p:ajax event="rowSelect" onstart="showDialog('car');" listener="#{carLandingBean.selectCarRowForUpload}"  />
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="uuid" sortBy="#{row.uuid}" filterBy="#{row.uuid}">
			
			<!-- 	<p:commandLink onclick="showDialog('car');" rendered="#{loginBean.theUserOfThisAccount.role==0?'true':'false'}" value="#{row.uuid}" action="#{carLandingBean.selectCarForMain(row.id)}"/>
			
			 -->
			<h:outputText value="#{row.uuid}" />

			<f:facet name="header">	<h:outputText value="Vin" /> </f:facet>
		</p:column>
		
		
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="code" sortBy="#{row.damageDescription}" filterBy="#{row.damageDescription}">
			<h:outputText value="#{row.damageDescription}" />
			<f:facet name="header">	<h:outputText value="Damage Description" /> </f:facet>
		</p:column>
		
		
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="transmission" sortBy="#{row.transmission}" filterBy="#{row.transmission}">
			<h:outputText value="#{row.transmission}" />
			<f:facet name="header">	<h:outputText value="Transmission" /> </f:facet>
		</p:column>
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="docType" sortBy="#{row.docType}" filterBy="#{row.docType}">
			<h:outputText value="#{row.docType}" />
			<f:facet name="header">	<h:outputText value="Doc Type" /> </f:facet>
		</p:column>
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="lot" sortBy="#{row.lot}" filterBy="#{row.lot}">
			
				<a   href="https://www.copart.com/lot/#{row.lot}" target="_blank">#{row.lot}</a>
			

			<f:facet name="header">	<h:outputText value="Lot Number" /> </f:facet>
		</p:column>
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="category" sortBy="#{carLandingBean.getCategoryEnum(row.category).name}" filterBy="#{carLandingBean.getCategoryEnum(row.category).name}">
			<h:outputText value="#{carLandingBean.getCategoryEnum(row.category).name}" />
			<f:facet name="header">	<h:outputText value="Categories" /> </f:facet>
		</p:column>
		
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="model" sortBy="#{row.model}" filterBy="#{row.model}">
			<h:outputText value="#{row.make}/#{row.model}" />
			<f:facet name="header">	<h:outputText value="Make/Model" /> </f:facet>
		</p:column>
		
		
		
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="endDate" sortBy="#{row.endDate}" filterBy="#{row.endDate}">
			<h:outputText value="#{row.endDate}" />
			<f:facet name="header">	<h:outputText value="End Date" /> </f:facet>
		</p:column>
		
		
		<p:column style="font-size: 11px;    text-align: center;" width="130" id="year" sortBy="#{row.year}" filterBy="#{row.year}">
			<h:outputText value="#{row.year}" />
			<f:facet name="header">	<h:outputText value="Year" /> </f:facet>
		</p:column>
		
		<p:column style="font-size: 11px; text-align: center;"    width="130" id="color" sortBy="#{row.color}" filterBy="#{row.color}">
			<h:outputText value="#{row.color}" />
			<f:facet name="header">	<h:outputText value="Color" /> </f:facet>
		</p:column>
		
		<p:column style="font-size: 11px; text-align: center;"    width="130" id="active" sortBy="#{row.active}" filterBy="#{row.active}">
			<img src="/resources/images/#{row.active?'check_on.gif':'check_off.gif'}"></img>
			<f:facet name="header">	<h:outputText value="Statue" /> </f:facet>
		</p:column>
		
		
    </p:dataTable>
							
	            	
							
					</h:form>
    <br /><br />
    
    <h:form id="progressBar">
    <p:progressBar  widgetVar="pbAjax" ajax="true" value="#{carLandingBean.progressLoading}" labelTemplate="{value}%" styleClass="animated" global="false"/>
    </h:form>
						
					<br></br>
	            		     <p:commandButton onclick="showDialog(' and saving Cars');PF('pbAjax').start();" class="btn btn-default" action="#{carLandingBean.saveTheNewUploadedList()}"  value="Save"  style=" font-family:Verdana;font-size:10px;font-weight:bold;width:120px;" />
                           
							</div>
						</section>
						
                                       
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                    <!-- End of Table 1 -->
                    <img src="#{resource['images:dumb.gif']}" width="1" height="3"/><br></br>
                    <p>
                    </p>
                </td>
            </tr>
        </tbody>
    </table>

            </div>  
            
            
        </h:form>
        
     
	</ui:define>
	
		
	
</ui:composition>
</html>
